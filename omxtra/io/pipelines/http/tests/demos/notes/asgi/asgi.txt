https://asgi.readthedocs.io/en/latest/specs/www.html

====
http

scope:
type (Unicode string) – "http".
asgi["version"] (Unicode string) – Version of the ASGI spec.
asgi["spec_version"] (Unicode string) – Version of the ASGI HTTP spec this server understands; for example: "2.0", "2.1", "2.2", etc. Optional; if missing assume "2.0".
http_version (Unicode string) – One of "1.0", "1.1" or "2".
method (Unicode string) – The HTTP method name, uppercased.
scheme (Unicode string) – URL scheme portion (likely "http" or "https"). Optional (but must not be empty); default is "http".
path (Unicode string) – HTTP request target excluding any query string, with percent-encoded sequences and UTF-8 byte sequences decoded into characters.
raw_path (byte string) – The original HTTP path component, excluding any query string, unmodified from the bytes that were received by the web server. Some web server implementations may be unable to provide this. Optional; if missing defaults to None.
query_string (byte string) – URL portion after the ?, percent-encoded.
root_path (Unicode string) – The root path this application is mounted at; same as SCRIPT_NAME in WSGI. Optional; if missing defaults to "".
headers (Iterable[[byte string, byte string]]) – An iterable of [name, value] two-item iterables, where name is the header name, and value is the header value. Order of header values must be preserved from the original HTTP request; order of header names is not important. Duplicates are possible and must be preserved in the message as received. Header names should be lowercased, but it is not required; servers should preserve header case on a best-effort basis. Pseudo headers (present in HTTP/2 and HTTP/3) must be removed; if :authority is present its value must be added to the start of the iterable with host as the header name or replace any existing host header already present.
client (Iterable[Unicode string, int]) – A two-item iterable of [host, port], where host is the remote host’s IPv4 or IPv6 address, and port is the remote port as an integer. Optional; if missing defaults to None.
server (Iterable[Unicode string, Optional[int]]) – Either a two-item iterable of [host, port], where host is the listening address for this server, and port is the integer listening port, or [path, None] where path is that of the unix socket. Optional; if missing defaults to None.
state Optional(dict[Unicode string, Any]) – A copy of the namespace passed into the lifespan corresponding to this request. (See Lifespan Protocol). Optional; if missing the server does not support this feature.

request - receive event:
type (Unicode string) – "http.request".
body (byte string) – Body of the request. Optional; if missing defaults to b"". If more_body is set, treat as start of body and concatenate on further chunks.
more_body (bool) – Signifies if there is additional content to come (as part of a Request message). If True, the consuming application should wait until it gets a chunk with this set to False. If False, the request is complete and should be processed. Optional; if missing defaults to False.

start - send event:
type (Unicode string) – "http.response.start".
status (int) – HTTP status code.
headers (Iterable[[byte string, byte string]]) – An iterable of [name, value] two-item iterables, where name is the header name, and value is the header value. Order must be preserved in the HTTP response. Header names must be lowercased. Optional; if missing defaults to an empty list. Pseudo headers (present in HTTP/2 and HTTP/3) must not be present.
trailers (bool) – Signifies if the application will send trailers. If True, the server must wait until it receives a "http.response.trailers" message after the Response Body event. Optional; if missing defaults to False.

response body - send event:
type (Unicode string) – "http.response.body".
body (byte string) – HTTP body content. Concatenated onto any previous body values sent in this connection scope. Optional; if missing defaults to b"".
more_body (bool) – Signifies if there is additional content to come (as part of a Response Body message). If False, and the server is not expecting Response Trailers response will be taken as complete and closed, and any further messages on the channel will be ignored. Optional; if missing defaults to False.

disconnected client - send exception:

disconnect - receive event:
type (Unicode string) – "http.disconnect"

====
websocket

scope:
type (Unicode string) – "websocket".
asgi["version"] (Unicode string) – The version of the ASGI spec.
asgi["spec_version"] (Unicode string) – Version of the ASGI HTTP spec this server understands; one of "2.0", "2.1", "2.2" or "2.3". Optional; if missing assume "2.0".
http_version (Unicode string) – One of "1.1" or "2". Optional; if missing default is "1.1".
scheme (Unicode string) – URL scheme portion (likely "ws" or "wss"). Optional (but must not be empty); default is "ws".
path (Unicode string) – HTTP request target excluding any query string, with percent-encoded sequences and UTF-8 byte sequences decoded into characters.
raw_path (byte string) – The original HTTP path component, excluding any query string, unmodified from the bytes that were received by the web server. Some web server implementations may be unable to provide this. Optional; if missing defaults to None.
query_string (byte string) – URL portion after the ?. Optional; if missing or None default is empty string.
root_path (Unicode string) – The root path this application is mounted at; same as SCRIPT_NAME in WSGI. Optional; if missing defaults to empty string.
headers (Iterable[[byte string, byte string]]) – An iterable of [name, value] two-item iterables, where name is the header name and value is the header value. Order should be preserved from the original HTTP request; duplicates are possible and must be preserved in the message as received. Header names should be lowercased, but it is not required; servers should preserve header case on a best-effort basis. Pseudo headers (present in HTTP/2 and HTTP/3) must be removed; if :authority is present its value must be added to the start of the iterable with host as the header name or replace any existing host header already present.
client (Iterable[Unicode string, int]) – A two-item iterable of [host, port], where host is the remote host’s IPv4 or IPv6 address, and port is the remote port. Optional; if missing defaults to None.
server (Iterable[Unicode string, Optional[int]]) – Either a two-item iterable of [host, port], where host is the listening address for this server, and port is the integer listening port, or [path, None] where path is that of the unix socket. Optional; if missing defaults to None.
subprotocols (Iterable[Unicode string]) – Subprotocols the client advertised. Optional; if missing defaults to empty list.
state Optional(dict[Unicode string, Any]) – A copy of the namespace passed into the lifespan corresponding to this request. (See Lifespan Protocol). Optional; if missing the server does not support this feature.

connect - receive event:
type (Unicode string) – "websocket.connect".

accept - send event:
type (Unicode string) – "websocket.accept".
subprotocol (Unicode string) – The subprotocol the server wishes to accept. Optional; if missing defaults to None.
headers (Iterable[[byte string, byte string]]) – An iterable of [name, value] two-item iterables, where name is the header name, and value is the header value. Order must be preserved in the HTTP response. Header names must be lowercased. Must not include a header named sec-websocket-protocol; use the subprotocol key instead. Optional; if missing defaults to an empty list. Added in spec version 2.1. Pseudo headers (present in HTTP/2 and HTTP/3) must not be present.

receive - receive event:
type (Unicode string) – "websocket.receive".
bytes (byte string) – The message content, if it was binary mode, or None. Optional; if missing, it is equivalent to None.
text (Unicode string) – The message content, if it was text mode, or None. Optional; if missing, it is equivalent to None.

send - send event:
type (Unicode string) – "websocket.send".
bytes (byte string) – Binary message content, or None.
text (Unicode string) – Text message content, or None.

disconnect - receive event:
type (Unicode string) – "websocket.disconnect"
code (int) – The WebSocket close code, as per the WebSocket spec. If no code was received in the frame from the client, the server should set this to 1005 (the default value in the WebSocket specification).
reason (Unicode string) – A reason given for the disconnect, can be any string. Optional; if missing or None default is empty string.

disconnected Client - send exception:

close - send event:
type (Unicode string) – "websocket.close".
code (int) – The WebSocket close code, as per the WebSocket spec. Optional; if missing defaults to 1000.
reason (Unicode string) – A reason given for the closure, can be any string. Optional; if missing or None default is empty string.

====
wsgi

scope:
REQUEST_METHOD is the method
SCRIPT_NAME is root_path
PATH_INFO can be derived by stripping root_path from path
QUERY_STRING is query_string
CONTENT_TYPE can be extracted from headers
CONTENT_LENGTH can be extracted from headers
SERVER_NAME and SERVER_PORT are in server
REMOTE_HOST/REMOTE_ADDR and REMOTE_PORT are in client
SERVER_PROTOCOL is encoded in http_version
wsgi.url_scheme is scheme
wsgi.input is a StringIO based around the http.request messages
wsgi.errors is directed by the wrapper as needed
